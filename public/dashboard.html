<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SoulLift Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background:#1e1e1e; color:#f0f0f0; }
    h1 { color:#4dd0e1; }
    .section { background:#2c2c2c; padding:15px; margin-bottom:15px; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.5); }
    button { padding:8px 12px; margin:5px; border:none; border-radius:5px; background:#4dd0e1; color:#1e1e1e; cursor:pointer; }
    button:hover { background:#26c6da; }
    input { padding:5px; margin:5px; border-radius:4px; border:1px solid #555; background:#1e1e1e; color:#fff; }
    pre { background:#111; padding:10px; border-radius:5px; max-height:300px; overflow:auto; }
  </style>
</head>
<body>
  <h1>ðŸŒŸ SoulLift Dashboard</h1>

  <div class="section">
    <h2>Auth</h2>
    <input id="email" placeholder="Email" />
    <input id="password" type="password" placeholder="Password" />
    <button onclick="register()">Register</button>
    <button onclick="login()">Login</button>
  </div>

  <div class="section">
    <h2>Quotes</h2>
    <button onclick="getQuote()">Random Quote</button>
    <input id="lang" placeholder="Lang (ex: RO)" />
  </div>

  <div class="section">
    <h2>Favorites</h2>
    <input id="favText" placeholder="Favorite text" />
    <button onclick="addFavorite()">Add Favorite</button>
    <button onclick="listFavorites()">List Favorites</button>
  </div>

  <div class="section">
    <h2>AI Quotes</h2>
    <input id="aiCategory" placeholder="Category (motivation)" />
    <input id="aiLang" placeholder="Lang (EN)" />
    <button onclick="aiQuote()">Generate One</button>
    <input id="aiCount" placeholder="Count (5)" />
    <button onclick="aiBatch()">Generate Batch</button>
    <button onclick="aiExport()">Export All</button>
  </div>

  <div class="section">
    <h2>Response</h2>
    <pre id="output"></pre>
  </div>

<script>
const base = window.location.origin;
let token = null;

function out(data){ document.getElementById("output").textContent = JSON.stringify(data,null,2); }
async function api(path, method="GET", body=null, auth=true){
  const opts={ method, headers:{ "Content-Type":"application/json" }};
  if(body) opts.body=JSON.stringify(body);
  if(auth && token) opts.headers["Authorization"]="Bearer "+token;
  const res=await fetch(base+path,opts); return res.json();
}

async function register(){ out(await api("/api/register","POST",{ email:email.value,password:password.value },false)); }
async function login(){ let d=await api("/api/login","POST",{ email:email.value,password:password.value },false); if(d.token) token=d.token; out(d); }
async function getQuote(){ out(await api("/api/quote?lang="+(lang.value||"EN"))); }
async function addFavorite(){ out(await api("/api/favorites","POST",{ text:favText.value })); }
async function listFavorites(){ out(await api("/api/favorites")); }
async function aiQuote(){ out(await api("/api/ai-quote","POST",{ category:aiCategory.value||"motivation", lang:aiLang.value||"EN" })); }
async function aiBatch(){ out(await api("/api/ai-quotes-batch","POST",{ category:aiCategory.value||"motivation", lang:aiLang.value||"EN", count:Number(aiCount.value)||5 })); }
async function aiExport(){ out(await api("/api/ai/export")); }
</script>
</body>
</html>
